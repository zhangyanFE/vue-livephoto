{"version":3,"sources":["webpack:///./src/views/login/index.vue?04c7","webpack:///./src/views/login/index.vue?fcac","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?02fa","webpack:///./src/views/login/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","modifiers","attrs","$t","domProps","on","$event","type","indexOf","_k","keyCode","key","checkMobile","$forceUpdate","target","composing","mobile","trim","checkCode","code","class","hasBeenSent","handleSendCode","_v","_s","sendText","handleLogin","staticRenderFns","data","timer","count","countTime","resetCount","computed","watch","created","activated","deactivated","methods","phoneVal","codeVal","length","$toast","countDown","clearInterval","setInterval","redirectUrl","$router","push","decodeURIComponent","handleEmpty","component"],"mappings":"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","file":"js/chunk-132a77bd.c8b0997a.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.3.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f34df894&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.3.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.0@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f34df894&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-box\"},[_c('div',{staticClass:\"login-logo\"}),_c('div',{staticClass:\"login-user\"},[_c('div',{staticClass:\"user-info login-user-phone\"},[_c('i'),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.mobile),expression:\"mobile\",modifiers:{\"trim\":true}}],staticClass:\"phone-val\",attrs:{\"type\":\"tel\",\"name\":\"mobile\",\"maxlength\":\"11\",\"placeholder\":_vm.$t('customName.login.phonePlaceholder')},domProps:{\"value\":(_vm.mobile)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.checkMobile($event)},\"blur\":[_vm.checkMobile,function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing){ return; }_vm.mobile=$event.target.value.trim()}}})]),_c('div',{staticClass:\"user-info login-user-code\"},[_c('i'),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.code),expression:\"code\",modifiers:{\"trim\":true}}],staticClass:\"code-val\",attrs:{\"type\":\"tel\",\"name\":\"code\",\"maxlength\":\"6\",\"placeholder\":_vm.$t('customName.login.codePlaceholder')},domProps:{\"value\":(_vm.code)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.checkCode($event)},\"blur\":[_vm.checkCode,function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value.trim()}}}),_c('span',{class:['send-code', _vm.hasBeenSent && 'active'],on:{\"click\":_vm.handleSendCode}},[_vm._v(_vm._s(_vm.sendText))])]),_c('div',{staticClass:\"login-btn\",on:{\"click\":_vm.handleLogin}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"customName.login.loginBtnText\")))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login-box\">\n    <div class=\"login-logo\"></div>\n    <div class=\"login-user\">\n      <div class=\"user-info login-user-phone\">\n        <i></i>\n        <input\n          v-model.trim=\"mobile\"\n          type=\"tel\"\n          name=\"mobile\"\n          class=\"phone-val\"\n          maxlength=\"11\"\n          :placeholder=\"$t('customName.login.phonePlaceholder')\"\n          @keyup.enter=\"checkMobile\"\n          @blur=\"checkMobile\"\n        />\n      </div>\n      <div class=\"user-info login-user-code\">\n        <i></i>\n        <input\n          v-model.trim=\"code\"\n          type=\"tel\"\n          name=\"code\"\n          class=\"code-val\"\n          maxlength=\"6\"\n          :placeholder=\"$t('customName.login.codePlaceholder')\"\n          @keyup.enter=\"checkCode\"\n          @blur=\"checkCode\"\n        />\n        <span\n          :class=\"['send-code', hasBeenSent && 'active']\"\n          @click=\"handleSendCode\"\n          >{{ sendText }}</span\n        >\n      </div>\n      <div class=\"login-btn\" @click=\"handleLogin\">\n        <span>{{ $t(\"customName.login.loginBtnText\") }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { checkPhone } from \"@/lib/util\";\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      mobile: \"\",\n      code: \"\",\n      timer: null,\n      sendText: \"获取验证码\",\n      count: 10,\n      countTime: 1000,\n      resetCount: 10,\n      hasBeenSent: false // 已发送验证码状态标识\n    };\n  },\n  computed: {},\n  watch: {},\n  created() {},\n  activated() {},\n  deactivated() {},\n  methods: {\n    phoneVal(e) {\n      let { value } = e.currentTarget;\n    },\n    codeVal() {},\n    checkMobile(type, flag) {\n      if (this.mobile.length !== 11) {\n        this.$toast(\"请输入11位手机号\");\n        return false;\n      } else if (!checkPhone(this.mobile)) {\n        this.$toast(\"请输入正确的手机号\");\n        return false;\n      } else {\n        return true;\n      }\n    },\n    checkCode() {\n      if (this.code.length !== 6) {\n        this.$toast(\"请输入6位验证码\");\n        return false;\n      } else {\n        // ajax...\n        return true;\n      }\n    },\n    countDown() {\n      this.$toast(\"验证码发送成功\");\n      clearInterval(this.timer);\n      this.timer = setInterval(() => {\n        this.count--;\n        this.hasBeenSent = true;\n        this.sendText = `${this.count}s后获取`;\n        if (this.count < 0) {\n          clearInterval(this.timer);\n          this.count = this.resetCount;\n          this.sendText = \"获取验证码\";\n          this.hasBeenSent = false;\n        }\n      }, this.countTime);\n    },\n    handleSendCode() {\n      if (this.checkMobile() && !this.hasBeenSent) {\n        // ajax...\n        this.countDown();\n      }\n    },\n    handleLogin() {\n      if (this.checkMobile() && this.checkCode()) {\n        // ajax...\n        this.$toast(\"登录成功\");\n        let redirectUrl = this.$route.query.redirect;\n        if (redirectUrl) {\n          this.$router.push(decodeURIComponent(redirectUrl));\n        } else {\n          this.$router.push(\"/my\");\n        }\n        this.handleEmpty();\n      }\n    },\n    handleEmpty() {\n      this.mobile = \"\";\n      this.code = \"\";\n      clearInterval(this.timer);\n      this.hasBeenSent = false;\n      this.sendText = \"获取验证码\";\n    }\n  }\n};\n</script>\n>\n<style lang=\"scss\" scoped>\n$rem: 75;\n@function conver($n) {\n  @return $n * 2 / $rem + unquote(\"rem\");\n}\n.login-box {\n  width: 100%;\n  height: 100%;\n  background: #f9f9f9;\n  padding-top: conver(40);\n  .login-logo {\n    width: conver(160);\n    height: conver(114);\n    background: url(\"./images/logo.png\") no-repeat;\n    background-size: conver(160) auto;\n    margin: 0 auto;\n  }\n  .login-user {\n    /* margin: conver(40) conver(37) 0 conver(37); */\n    width: conver(300);\n    margin: conver(40) auto 0 auto;\n    .user-info {\n      height: conver(40);\n      line-height: conver(40);\n      &:not(:last-child) {\n        margin-bottom: conver(11);\n      }\n      i {\n        display: inline-block;\n        margin-left: conver(12);\n        margin-right: conver(8);\n      }\n      input {\n        height: conver(40);\n        line-height: normal;\n        font-size: conver(13);\n        font-family: PingFang;\n        font-weight: 500;\n        &::-webkit-input-placeholder {\n          color: #999999;\n        }\n      }\n    }\n    &-phone {\n      width: conver(300);\n      background: #fff;\n      i {\n        width: conver(13);\n        height: conver(20);\n        background: url(\"./images/phone-icon.png\") no-repeat;\n        background-size: conver(13) auto;\n        vertical-align: middle;\n      }\n      .phone-val {\n        width: 87%;\n      }\n    }\n    &-code {\n      width: conver(200);\n      background: #fff;\n      position: relative;\n      i {\n        width: conver(17);\n        height: conver(19);\n        background: url(\"./images/code-icon.png\") no-repeat;\n        background-size: conver(17) auto;\n        vertical-align: middle;\n      }\n      .code-val {\n      }\n      .send-code {\n        position: absolute;\n        top: 0;\n        right: conver(-100);\n        width: conver(86);\n        height: conver(40);\n        background: #3a86fc;\n        border-radius: conver(4);\n        font-size: conver(13);\n        font-family: PingFang;\n        font-weight: 500;\n        text-align: center;\n        color: #fff;\n        &.active {\n          background: #e6e6e6;\n          color: #fff;\n        }\n      }\n    }\n    .login-btn {\n      width: conver(300);\n      height: conver(44);\n      line-height: conver(44);\n      text-align: center;\n      border-radius: conver(22);\n      color: #fff;\n      font-size: conver(17);\n      font-family: PingFang;\n      font-weight: 500;\n      margin-top: conver(77);\n      box-shadow: 0px 1px 9px 0px rgba(89, 153, 225, 0.56);\n      background: linear-gradient(\n        -83deg,\n        rgba(72, 174, 255, 1),\n        rgba(72, 174, 255, 1),\n        rgba(57, 133, 253, 1),\n        rgba(76, 168, 241, 1)\n      );\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f34df894&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f34df894&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f34df894\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}